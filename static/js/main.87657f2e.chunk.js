(this["webpackJsonpvaccine-finder"]=this["webpackJsonpvaccine-finder"]||[]).push([[0],{11:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),i=c(4),r=c.n(i),s=(c(9),c(2)),l=c(0),o=function(){var e=Object(n.useState)(),t=Object(s.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)("770"),r=Object(s.a)(i,2),o=r[0],j=r[1],d=Object(n.useState)(f()),h=Object(s.a)(d,2),u=h[0],b=h[1],O=Object(n.useState)("770"),v=Object(s.a)(O,2),x=v[0],p=v[1];function f(){var e=new Date,t=e.getMonth()+1;return 1==="".concat(t).length&&(t="0".concat(t)),"".concat(e.getDate(),"-").concat(t,"-").concat(e.getFullYear())}function g(){var e="https://cdn-api.co-vin.in/api/v2/appointment/sessions/calendarByDistrict?district_id=".concat(o,"&date=").concat(u);fetch(e).then((function(e){return e.json()})).then((function(e){a(e&&e.centers)})).catch((function(e){console.error("error: ",e),a([])}))}Object(n.useEffect)((function(){return g(),function(){var e=setInterval((function(){g()}),3e3);p(e)}(),clearInterval(x)}),[o,u]);var m=function(e,t){clearInterval(x),a([]),"city"===t?j(e.target.value):"day"===t&&b(e.target.value)};return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)("h2",{children:"\ud83d\udc89 Vaccine Finder [GJ] \ud83d\udc89"}),Object(l.jsx)("h5",{children:"Constantly Searching..."}),Object(l.jsx)("div",{className:"loaderWrap",children:Object(l.jsx)("div",{className:"loader"})}),Object(l.jsxs)("div",{className:"selectWrap",children:[Object(l.jsxs)("div",{className:"select",style:{width:"100%"},children:[Object(l.jsxs)("select",{onChange:function(e){return m(e,"city")},defaultValue:o,children:[Object(l.jsx)("option",{defaultValue:!0,value:"770",children:"Ahmedabad Corpora.."}),Object(l.jsx)("option",{value:"154",children:"Ahmedabad"}),Object(l.jsx)("option",{value:"179",children:"Anand"}),Object(l.jsx)("option",{value:"175",children:"Bhavnagar"}),Object(l.jsx)("option",{value:"153",children:"Gandhinagar"}),Object(l.jsx)("option",{value:"772",children:"Gandhinagar Corpora.."}),Object(l.jsx)("option",{value:"160",children:"Mehsana"}),Object(l.jsx)("option",{value:"173",children:"Rajkot"}),Object(l.jsx)("option",{value:"775",children:"Rajkot Corpora.."}),Object(l.jsx)("option",{value:"165",children:"Surat"}),Object(l.jsx)("option",{value:"776",children:"Surat Corpora.."}),Object(l.jsx)("option",{value:"157",children:"Surendranagar"})]}),Object(l.jsx)("div",{className:"select__arrow"})]}),Object(l.jsxs)("div",{className:"select",style:{width:"60%"},children:[Object(l.jsxs)("select",{onChange:function(e){return m(e,"day")},defaultValue:u,children:[Object(l.jsx)("option",{defaultValue:!0,value:f(),children:"Today"}),Object(l.jsx)("option",{value:function(){var e=new Date,t=new Date(e);t.setDate(t.getDate()+1);var c=t.getMonth()+1;return 1==="".concat(c).length&&(c="0".concat(c)),"".concat(t.getDate(),"-").concat(c,"-").concat(t.getFullYear())}(),children:"Tomorrow"})]}),Object(l.jsx)("div",{className:"select__arrow"})]})]}),Object(l.jsx)("table",{children:Object(l.jsxs)("tbody",{children:[Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Name(AV)"}),Object(l.jsx)("th",{children:"Pincode"}),Object(l.jsx)("th",{children:"Age Limit"}),Object(l.jsx)("th",{children:"Free/Paid"}),Object(l.jsx)("th",{children:"Vaccine Count Available"})]}),c&&c.map((function(e,t){return e.sessions[0].available_capacity>0?Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:"".concat(e.name," ").concat(e.address)}),Object(l.jsx)("td",{children:e.pincode}),Object(l.jsx)("td",{children:e.sessions[0].min_age_limit}),Object(l.jsx)("td",{children:e.fee_type}),Object(l.jsx)("td",{children:e.sessions[0].available_capacity})]},t):null}))]})})]})},j=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,12)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),i(e),r(e)}))};r.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(o,{})}),document.getElementById("root")),j()},9:function(e,t,c){}},[[11,1,2]]]);
//# sourceMappingURL=main.87657f2e.chunk.js.map